Core Gameplay
  Permadeath:
    When a player dies, they are kicked from the server for 5 minutes.
    After 5 minutes, they can rejoin and choose a save slot to continue.
  Save Slots:
    Each player has 3 save slots.
    On join, players must pick a save slot via a GUI.
    Each save slot stores independent progress (inventory, location, stats, etc.)(Shows stats of slot in the slot select gui EX: playtime 2h 5m 48s)
  Auto-save: Player progress is automatically saved every 60 seconds.
    Death Consequence: If a player dies while using a save slot:
    That save slot becomes locked.
    The player cannot use that slot until they manually reset it via the save slot GUI.
    Resetting a slot clears all previous progress on that slot.
  Classes:
    Players must pick a class via a GUI if none is assigned yet.
    22 unique classes, each providing slightly different attributes, effects, or actions.
    Example class differences:
    Health, speed, or strength modifiers
    Passive buffs (fire resistance, regeneration, night vision)
    Special actions (temporary flight, summon pets, extra loot drops)
Player Utilities
  TPA System: Players can request teleport to other players; requests must be accepted.
  RTP (Random Teleport): Teleports players to a random location within the world.
  Homes:
    Players can set up to 5 homes.
    Home GUI Players can set, unset, or teleport to homes.
    Each home can be named for easy identification.
    Maximum of 5 homes per player.

===========================================================================================

options:
    prefix: &2[&aSurviva&2] Â» &f
    #
    kick: 5 minutes
    save: 1 minute

on first join:
    loop 1 to 3:
        set {%loop-number%::%player%} to "inactive"

on join:
    clear player's inventory
    set player's gamemode to spectator
    joingui(player)
    set {joingui::%player%} to true

on death of player:
    set {%{currentslot::%player%}%::%player%} to "locked"
    resetslot(player)
    kick player for 5 minutes with "&cYou died! Come back in 5 minutes."

function joingui(p: player):
    open chest with 3 rows named "&7Slot Select" to {_p}
    format slot 0 to 26 with gray stained glass pane named "&7"
    #
    set {_slots::*} to 11, 13, 15
    loop {_slots::*}:
        set {_i} to loop-number
        if {%{_i}%::%{_p}%} is set:
            if {%{_i}%::%{_p}%} = "alive":
                format slot loop-value with lime stained glass pane named "&aClick to play!" with lore "%nl%&7Platime: &a%playtime({_p})%"
            else:
                format slot loop-value with red stained glass pane named "&cSlot Locked..."
        else:
            format slot loop-value with light gray stained glass pane named "&7Slot Inactive."

on inventory click:
    if name of event-inventory = "&7Slot Select":
        cancel event
        if clicked item is lime stained glass pane:
            if clicked slot = 11:
                set {_slot} to 1
            if clicked slot = 13:
                set {_slot} to 2
            if clicked slot = 15:
                set {_slot} to 3
            play sound "ENTITY_PLAYER_LEVELUP" to player
            set {joingui::%player%} to false
            close player's inventory
            send "{@prefix}&fYou have selected Slot %{_slot}%!" to player
            set {currentslot::%player%} to {_slot}
            if {class::%player%} is not set:
                set {joingui::%player%} to false
                set {classgui::%player%} to true
                classgui(player)
            else:
                loadslot(player)
        if clicked item is red stained glass pane:
            resetslot(player)
            joingui(player)
        if clicked item is light gray stained glass pane:
            send "{@prefix}&cThis slot is inactive."

on inventory close:
    if name of event-inventory = "&7Slot Select":
        if {joingui::%player%} = true:
            wait 1 second
            joingui(player)
    else if name of event-inventory = "&7Class Select":
        if {classgui::%player%} = true:
            wait 1 second
            classgui(player)

function loadslot(p: player):
    

function resetslot(p: player):

fuction classgui(p: player):

every 1 second:
    add 1 to {playtime::%{currentslot::%player%}%::%player%}

function playtime(p: player):
    set {_total} to {playtime::%{currentslot::%{_p}%}%::%{_p}%}
    set {_s} to {_total} mod 60
    if {_s} < 10:
        set {_s} to "%0{_s}%"
    set {_m} to floor({_total} / 60) mod 60
    if {_m} < 10:
        set {_m} to "%0{_s}%"
    set {_h} to floor({_total} / 3600)
    if {_h} < 10:
        set {_h} to "%0{_s}%"
    return "%{_h}%:%{_m}%:%{_s}%"
